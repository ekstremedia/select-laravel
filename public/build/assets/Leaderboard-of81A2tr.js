import{o as C,c as o,a as n,t as i,u as e,F as b,r as k,g as x,w as c,b as l,q as $,l as B,d as N,p as V,j as L,k as P,n as W,m as _,f as r,h as z}from"./app-CCP2hVtR.js";import{s as F}from"./index-CznJ1WnQ.js";import{a as s,s as M}from"./index-CCusksE9.js";import"./index-CdoIoPxA.js";import"./index-Idha0_VY.js";import"./index-BxUleAd_.js";const R={class:"max-w-4xl mx-auto px-4 py-8 sm:py-12"},T={class:"text-3xl font-bold mb-6 text-slate-800 dark:text-slate-200"},j={class:"flex gap-2 mb-6"},q={key:0,class:"space-y-2"},D={class:"text-emerald-600 dark:text-emerald-400 font-medium"},E={key:2,class:"py-16 text-center"},G={class:"text-lg text-slate-500 dark:text-slate-400"},Q={__name:"Leaderboard",setup(I){const{t}=P(),u=_([]),m=_(!0),d=_("all"),y=W(()=>[{value:"all",label:t("archive.allTime")},{value:"month",label:t("archive.thisMonth")},{value:"week",label:t("archive.thisWeek")}]);function g(h){d.value=h,f()}async function f(){m.value=!0;try{const h={period:d.value!=="all"?d.value:void 0},{data:v}=await L.leaderboard.get(h),a=v.leaderboard??v.data??[];u.value=a.map((p,w)=>({...p,rank:p.rank??w+1}))}catch{u.value=[]}finally{m.value=!1}}return C(f),(h,v)=>(r(),o("div",R,[n("h1",T,i(e(t)("leaderboard.title")),1),n("div",j,[(r(!0),o(b,null,k(y.value,a=>(r(),x(e(z),{key:a.value,label:a.label,severity:d.value===a.value?"success":"secondary",variant:d.value===a.value?void 0:"outlined",size:"small",onClick:p=>g(a.value)},null,8,["label","severity","variant","onClick"]))),128))]),m.value?(r(),o("div",q,[(r(),o(b,null,k(10,a=>l(e(F),{height:"3rem",key:a})),64))])):(r(),x(e(M),{key:1,value:u.value,stripedRows:"",class:"rounded-2xl overflow-hidden",pt:{root:{class:"border border-slate-200 dark:border-slate-800 rounded-2xl"}}},{default:c(()=>[l(e(s),{field:"rank",header:e(t)("leaderboard.rank"),style:{width:"4rem"}},{body:c(({data:a})=>[n("span",{class:$(["font-bold",a.rank<=3?"text-emerald-600 dark:text-emerald-400":"text-slate-400"])},i(a.rank),3)]),_:1},8,["header"]),l(e(s),{field:"nickname",header:e(t)("leaderboard.player")},{body:c(({data:a})=>[l(e(B),{href:`/profil/${a.nickname}`,class:"font-medium text-slate-800 dark:text-slate-200 hover:text-emerald-600 dark:hover:text-emerald-400"},{default:c(()=>[N(i(a.nickname),1)]),_:2},1032,["href"])]),_:1},8,["header"]),l(e(s),{field:"games_played",header:e(t)("leaderboard.gamesPlayed"),class:"hidden sm:table-cell"},null,8,["header"]),l(e(s),{field:"games_won",header:e(t)("leaderboard.gamesWon")},null,8,["header"]),l(e(s),{field:"win_rate",header:e(t)("leaderboard.winRate")},{body:c(({data:a})=>[n("span",D,i(a.win_rate),1)]),_:1},8,["header"]),l(e(s),{field:"rounds_won",header:e(t)("leaderboard.roundsWon"),class:"hidden sm:table-cell"},null,8,["header"])]),_:1},8,["value"])),!m.value&&u.value.length===0?(r(),o("div",E,[n("p",G,i(e(t)("archive.noGames")),1)])):V("",!0)]))}};export{Q as default};
