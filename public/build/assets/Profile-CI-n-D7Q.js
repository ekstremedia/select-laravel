import{v as D,o as F,c as o,b as i,u as s,a as e,F as h,r as g,t,h as $,g as P,w as u,l as S,p as k,f as l,j as y,m as x,k as H,n as L}from"./app-CCP2hVtR.js";import{s as C}from"./index-CznJ1WnQ.js";import{s as B,a as N}from"./index-pIabuVH2.js";import"./index-Idha0_VY.js";const M={class:"max-w-4xl mx-auto px-4 py-8 sm:py-12"},O={key:0,class:"space-y-6"},W={class:"grid grid-cols-2 sm:grid-cols-3 gap-4"},z={key:1,class:"text-center py-16"},E={class:"text-lg text-slate-500 dark:text-slate-400 mb-4"},G={class:"flex items-center gap-4 mb-8"},I={class:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-emerald-100 dark:bg-emerald-900/50 flex items-center justify-center text-2xl sm:text-3xl font-bold text-emerald-600 dark:text-emerald-400"},U={class:"flex-1 min-w-0"},q={class:"flex items-center gap-3"},J={class:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-200 truncate"},K={class:"flex items-center gap-2 mt-1"},Q={key:0,class:"text-xs px-2 py-0.5 rounded-full bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300"},T={key:1,class:"text-xs px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400"},X={key:2,class:"text-sm text-slate-500 dark:text-slate-400"},Y={class:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-10"},Z={class:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-center"},ee={class:"text-2xl font-bold text-emerald-600 dark:text-emerald-400"},te={class:"text-xs text-slate-500 dark:text-slate-400 mt-1"},se={class:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-center"},ae={class:"text-2xl font-bold text-emerald-600 dark:text-emerald-400"},le={class:"text-xs text-slate-500 dark:text-slate-400 mt-1"},re={class:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-center"},oe={class:"text-2xl font-bold text-emerald-600 dark:text-emerald-400"},de={class:"text-xs text-slate-500 dark:text-slate-400 mt-1"},ne={class:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-center"},ce={class:"text-2xl font-bold text-emerald-600 dark:text-emerald-400"},ie={class:"text-xs text-slate-500 dark:text-slate-400 mt-1"},xe={class:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-center"},me={class:"text-2xl font-bold text-emerald-600 dark:text-emerald-400"},_e={class:"text-xs text-slate-500 dark:text-slate-400 mt-1"},ue={key:0,class:"py-8 text-center text-slate-500 dark:text-slate-400"},pe={key:1,class:"space-y-3"},he={class:"flex items-center gap-2 mb-1"},ke={class:"text-xs font-mono font-bold text-emerald-600 dark:text-emerald-400 tracking-widest"},ve={class:"text-xs text-slate-400"},be={class:"text-slate-800 dark:text-slate-200 break-words"},fe={key:0,class:"py-8 text-center text-slate-500 dark:text-slate-400"},ge={key:1,class:"space-y-3"},ye={class:"flex items-center justify-between"},we={class:"text-sm font-mono font-bold text-slate-500 dark:text-slate-400"},Ae={class:"ml-2 text-sm text-slate-600 dark:text-slate-400"},Pe={class:"text-right"},Se={class:"text-sm font-medium text-emerald-600 dark:text-emerald-400"},Ce={class:"ml-2 text-xs text-slate-400"},De={__name:"Profile",props:{nickname:String},setup(R){const p=R,V=D(),{t:a}=H(),j=L(()=>V.nickname===p.nickname),n=x(null),c=x(null),v=x([]),b=x([]),f=x(!0),m=x("");function w(d){return d?new Date(d).toLocaleDateString():""}async function A(){f.value=!0,m.value="";try{const[d,_,r]=await Promise.all([y.players.profile(p.nickname),y.players.sentences(p.nickname,{limit:10}),y.players.games(p.nickname,{limit:20})]);n.value=d.data.player??d.data,c.value=d.data.stats??null,v.value=_.data.sentences??_.data.data??[],b.value=r.data.games??r.data.data??[]}catch(d){d.response?.status===404?m.value=a("common.notFound"):m.value=d.response?.data?.message||a("common.error")}finally{f.value=!1}}return F(A),(d,_)=>(l(),o("div",M,[f.value?(l(),o("div",O,[i(s(C),{width:"200px",height:"2rem"}),e("div",W,[(l(),o(h,null,g(6,r=>i(s(C),{key:r,height:"5rem"})),64))])])):m.value?(l(),o("div",z,[e("p",E,t(m.value),1),i(s($),{label:s(a)("common.retry"),severity:"secondary",onClick:A},null,8,["label"])])):n.value?(l(),o(h,{key:2},[e("div",G,[e("div",I,t(n.value.nickname?.charAt(0)?.toUpperCase()),1),e("div",U,[e("div",q,[e("h1",J,t(n.value.nickname),1),j.value?(l(),P(s(S),{key:0,href:"/profil",class:"shrink-0 p-1.5 rounded-lg text-slate-400 hover:text-emerald-600 dark:hover:text-emerald-400 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",title:s(a)("nav.settings")},{default:u(()=>[..._[0]||(_[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"12",cy:"12",r:"3"}),e("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})],-1)])]),_:1},8,["title"])):k("",!0)]),e("div",K,[n.value.is_bot?(l(),o("span",Q,t(s(a)("profile.botPlayer")),1)):n.value.is_guest?(l(),o("span",T,t(s(a)("profile.guestPlayer")),1)):k("",!0),n.value.member_since?(l(),o("p",X,t(s(a)("profile.memberSince"))+" "+t(w(n.value.member_since)),1)):k("",!0)])])]),e("div",Y,[e("div",Z,[e("p",ee,t(c.value?.games_played??0),1),e("p",te,t(s(a)("profile.gamesPlayed")),1)]),e("div",se,[e("p",ae,t(c.value?.games_won??0),1),e("p",le,t(s(a)("profile.gamesWon")),1)]),e("div",re,[e("p",oe,t(c.value?.win_rate??"0%"),1),e("p",de,t(s(a)("profile.winRate")),1)]),e("div",ne,[e("p",ce,t(c.value?.rounds_won??0),1),e("p",ie,t(s(a)("profile.roundsWon")),1)]),e("div",xe,[e("p",me,t(c.value?.votes_received??0),1),e("p",_e,t(s(a)("profile.votesReceived")),1)])]),i(s(N),null,{default:u(()=>[i(s(B),{header:s(a)("profile.bestSentences")},{default:u(()=>[v.value.length===0?(l(),o("div",ue,t(s(a)("hallOfFame.noSentences")),1)):(l(),o("div",pe,[(l(!0),o(h,null,g(v.value,r=>(l(),o("div",{key:r.id,class:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800"},[e("div",he,[e("span",ke,t(r.acronym),1),e("span",ve,t(r.votes_count)+" "+t(s(a)("game.votes")),1)]),e("p",be,t(r.text?.toLowerCase()),1)]))),128))]))]),_:1},8,["header"]),i(s(B),{header:s(a)("profile.gameHistory")},{default:u(()=>[b.value.length===0?(l(),o("div",fe,t(s(a)("archive.noGames")),1)):(l(),o("div",ge,[(l(!0),o(h,null,g(b.value,r=>(l(),P(s(S),{key:r.code,href:`/arkiv/${r.code}`,class:"block p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 hover:border-emerald-300 dark:hover:border-emerald-700 transition-colors"},{default:u(()=>[e("div",ye,[e("div",null,[e("span",we,"#"+t(r.code),1),e("span",Ae,t(w(r.finished_at)),1)]),e("div",Pe,[e("span",Se,t(r.score)+" "+t(s(a)("game.points")),1),e("span",Ce,t(r.placement),1)])])]),_:2},1032,["href"]))),128))]))]),_:1},8,["header"])]),_:1})],64)):k("",!0)]))}};export{De as default};
